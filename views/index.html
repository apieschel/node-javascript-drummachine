<!-- This is a static file -->
<!-- served from your routes in server.js -->

<!-- You might want to try something fancier: -->
<!-- html/nunjucks docs: https://mozilla.github.io/nunjucks/ -->
<!-- pug: https://pugjs.org/ -->
<!-- haml: http://haml.info/ -->
<!-- hbs(handlebars): http://handlebarsjs.com/ -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Welcome to Glitch!</title>
    <meta name="description" content="A cool thing made with Glitch">
    <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="public/style.css">
    
    <script src="https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js" defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" defer></script>
    <script src="public/client.js" defer></script>
    <script src="public/drummachine.js" defer></script>
  </head>
  <body>
    
    <div class="view">
      <form enctype="multipart/form-data" method="POST" action="/api/fileanalyse" id="upload">
        <input id="inputfield" type="file" name="upfile" multiple required>
        <input id="button" type="submit" value="UPLOAD">
      </form>
      <form method="GET" action="/music/directory" id="currentFiles">
        <input id="getFiles" type="submit" value="LOAD .WAV FILES">
      </form>
      <div id="jsonResult"></div>
    </div>
    
    <div class="container">
      <div class="instructions">
        <strong><u>Instructions</u>:</strong> Web browsers aren't great at keeping accurate time. If you want an accurate BPM, 
        then you can hook up an external sampler or drum machine to your computer (via MIDI interface) to keep time. 
        Tell the drum machine to play 16 straight sixteenth notes, 
        and this machine in the browser will update its count every time your external 
        drum machine plays a note. Click the "MIDI" button, and try it out! 
        While MIDI is off, the browser will keep time on its own. Press "C" on your keyboard to clear the tracks.
      </div>
      <div class="flex-container">
        <canvas id="screen" width="637" height="850"></canvas>
      </div>
      <div class="flex-container">
        <button id="record">RECORD</button>
        <button id="stop" class="hidden">STOP</button>
        <button id="wav" class="hidden">CREATE .WAV FILE</button>
        <button id="midi">MIDI OFF</button>
      </div>
    </div>

    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script src="https://button.glitch.me/button.js"></script>

  </body>
</html>
